<% if (deps.includes('one-router')) { %>
const OneRouter = require('one-router');
<% } %>

//
//   Global App Variable
//
//////////////////////////////////////////////////////////////////////

window.APP = window.APP || {};
<% if (deps.includes('one-router')) { %>
APP.globalRoute = require('./routes/global');
APP.homeRoute = require('./routes/home');
<% } %>


//
//   App Initiation
//
//////////////////////////////////////////////////////////////////////

APP.init = function() {
  <% if (deps.includes('one-router')) { %>

    // Configure Routing
    // Each route should be defined in a routename.js file in /scripts/routes

    var routes = {
      '^/$': APP.indexRoute
    };

    APP.router = new OneRouter(routes);

    // Trigger Global Setup
    APP.globalRoute();
  <% } %>
};


//
//   Kickoff
//
//////////////////////////////////////////////////////////////////////

APP.init();
